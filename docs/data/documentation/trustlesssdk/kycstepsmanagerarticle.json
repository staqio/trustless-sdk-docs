{"primaryContentSections":[{"content":[{"level":2,"type":"heading","anchor":"Overview","text":"Overview"},{"inlineContent":[{"type":"codeVoice","code":"KYCStepsManager"},{"text":" defines the essential functionalities for managing an individual step in the KYC process. It includes properties for getting the code and title of the step.","type":"text"}],"type":"paragraph"},{"anchor":"Main-Concept","text":"Main Concept","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"For handling KYC steps, TrustlessSDK provides "},{"type":"codeVoice","code":"KYCStepsManager"},{"type":"text","text":". This manager streamlines the integration of Staq Server APIs for Know Your Customer (KYC) verification. You can retrieve this from "},{"type":"codeVoice","code":"KYCProvider"},{"text":". For example:","type":"text"}]},{"code":["import TrustlessSDK","","var kycStepsManager: KYCStepsManager?","","_ = TrustlessSDK.kycProvider.getStepsManager() { result in","    switch result {","    case .success(let manager):","        kycStepsManager = manager","    case .failure(let error):","        \/\/ handle error","    }","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"code":"KYCStepsManager","type":"codeVoice"},{"text":" provides a ","type":"text"},{"type":"codeVoice","code":"KYCStepsManager\/steps"},{"type":"text","text":" property to access all KYC steps. This step object is represented by the "},{"type":"codeVoice","code":"KYCStepManager"},{"text":" class, which helps manage an individual step in the KYC process.","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["import TrustlessSDK","","let stepsManager: KYCStepsManager!","let step: KYCStepManager = stepsManager.steps[0]","let errors = step.validate()","","for error in errors {","    \/\/ Display errors.","}"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"KYCStepManager"},{"type":"text","text":" provides a "},{"code":"KYCStepManager\/delegate","type":"codeVoice"},{"type":"text","text":" for handling updates and validation errors."}]},{"type":"codeListing","syntax":"swift","code":["import TrustlessSDK","","let stepsManager: KYCStepsManager!","let step: KYCStepManager = stepsManager.steps[0]","step.delegate = Delegate()","","class Delegate: KYCFormStepDelegate {","    func didUpdateDependentFields(stepManager: KYCStepManager) {","        \/\/ handle new mandatory fields","    }","","    func didReceiveValidationError(stepManager: KYCStepManager) {","        \/\/ handle validation error","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For accessing step fields, you can use the following properties:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"KYCStepManager\/fields","type":"codeVoice"},{"text":", all fields within the form step;","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"KYCStepManager\/mandatoryFields"},{"text":", mandatory fields within the form step;","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"KYCStepManager\/documentFields"},{"type":"text","text":", document fields within the form step."}]}]}]},{"type":"paragraph","inlineContent":[{"text":"And for managing the step, it provides such methods as:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"KYCStepManager\/getField(withCode:)"},{"type":"text","text":", get a field within step with code;"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"KYCStepManager\/getField(withName:)"},{"type":"text","text":", get a field within step with name;"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"KYCStepManager\/configureSourceFields(_:)","type":"codeVoice"},{"type":"text","text":", configure source fields for this form step;"}]}]},{"content":[{"inlineContent":[{"code":"KYCStepManager\/validate()","type":"codeVoice"},{"text":", validate all mandatory fields in form steps;","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"KYCStepManager\/getValues()"},{"type":"text","text":", get values for this form step;"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"KYCStepManager\/getJson()"},{"text":", get JSON-compatible values for this from step.","type":"text"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Each KYC field is represented as "},{"code":"KYCBaseField","type":"codeVoice"},{"type":"text","text":", handling necessary properties for a specific type and providing methods to validate, put or clear error, and retrieve value for specific needs."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"More useful classes inherit "},{"type":"codeVoice","code":"KYCBaseField"},{"text":", so you can cast any ","type":"text"},{"code":"KYCBaseField","type":"codeVoice"},{"type":"text","text":" to another field class as follows:"}]},{"type":"codeListing","syntax":"swift","code":["import TrustlessSDK","","let baseField: KYCBaseField!","let textField = baseField as? KYCTextField","","\/\/ textField.value will be `String` type"]},{"type":"paragraph","inlineContent":[{"text":"The list of all available field types:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"KYCBooleanField","type":"codeVoice"},{"type":"text","text":", you can safely cast from "},{"code":"KYCBaseField","type":"codeVoice"},{"text":" with type ","type":"text"},{"type":"codeVoice","code":"KYCFieldType\/boolean"},{"type":"text","text":";"}]}]},{"content":[{"inlineContent":[{"code":"KYCDateField","type":"codeVoice"},{"text":", you can safely cast from ","type":"text"},{"code":"KYCBaseField","type":"codeVoice"},{"type":"text","text":" with type "},{"type":"codeVoice","code":"KYCFieldType\/date"},{"type":"text","text":";"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"KYCDocumentField"},{"text":", you can savefly cast from ","type":"text"},{"type":"codeVoice","code":"KYCBaseField"},{"text":" with type ","type":"text"},{"code":"KYCFieldType\/document","type":"codeVoice"},{"text":";","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"KYCSelectField","type":"codeVoice"},{"text":", you can safely cast from ","type":"text"},{"type":"codeVoice","code":"KYCBaseField"},{"text":" with type ","type":"text"},{"type":"codeVoice","code":"KYCFieldType\/lov"},{"type":"text","text":";"}]}]},{"content":[{"inlineContent":[{"code":"KYCTextField","type":"codeVoice"},{"type":"text","text":", you can safely cast from "},{"type":"codeVoice","code":"KYCBaseField"},{"type":"text","text":" with type "},{"type":"codeVoice","code":"KYCFieldType\/text"},{"type":"text","text":";"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"KYCUrlField","type":"codeVoice"},{"text":", you can safely cast from ","type":"text"},{"type":"codeVoice","code":"KYCBaseField"},{"type":"text","text":" with type "},{"type":"codeVoice","code":"KYCFieldType\/url"},{"type":"text","text":"."}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Additionally, TrustlessSDK utilizes "},{"type":"codeVoice","code":"KYCGenericField"},{"type":"text","text":" for handling custom fields presented in the list above."}]},{"inlineContent":[{"type":"text","text":"For more details, follow the links in the article."}],"type":"paragraph"},{"content":[{"type":"paragraph","inlineContent":[{"text":"TrustlessSDK doesnâ€™t support ","type":"text"},{"code":"KYCFieldType\/arrayOfText","type":"codeVoice"},{"type":"text","text":" type. You can use custom "},{"type":"codeVoice","code":"KYCBaseField\/field"},{"text":" to access the original response from the server for these fields (","type":"text"},{"type":"codeVoice","code":"KYCFieldObject"},{"text":")","type":"text"}]}],"style":"note","type":"aside","name":"Note"},{"anchor":"Basic-Example","text":"Basic Example","type":"heading","level":2},{"code":["import TrustlessSDK","","class ViewController: UIViewController {","    var stepManager: KYCStepManager?","","    let tableView = UITableView()","","    func handleContinuePress(_ sender: Any) {","        guard let stepManager = stepManager else { return }","","        guard stepManager.validate() == nil else {","            \/\/ Handle errors.","            return","        }","","        let isLastStep = stepManager.index == formStepManager.mandatoryFields.count","        if isLastStep {","            \/\/ you can get values and send request","        } else {","            \/\/ you can move to next step","        }","    }","}","","","extension ViewController: UITableViewDataSource, UITableViewDelegate {","    func numberOfSections(in tableView: UITableView) -> Int {","        return 1","    }","","    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {","        return formStepManager?.mandatoryFields.count ?? 0","    }","","    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {","        guard let formStepManager = formStepManager,","              let fieldObject = formStepManager.?.mandatoryFields[indexPath.row]","        else { return UITableViewCell() }","","        switch fieldObject.type {","        case .boolean:","            let cell = tableView.dequeueReusableCell(withIdentifier: \"BooleanFieldCell\", for: indexPath) as! BooleanFieldTableViewCell","            return cell","        case .lov, .url:","            let cell = tableView.dequeueReusableCell(withIdentifier: \"SelectFieldCell\", for: indexPath) as! SelectFieldTableViewCell","            return cell","        case .text, .integer, .decimal:","            let cell = tableView.dequeueReusableCell(withIdentifier: \"TextFieldCell\", for: indexPath) as! TextFieldTableViewCell","            return cell","        case .date:","            let cell = tableView.dequeueReusableCell(withIdentifier: \"DateFieldCell\", for: indexPath) as! DateFieldTableViewCell","            return cell","        case .document:","            let cell = tableView.dequeueReusableCell(withIdentifier: \"FileFieldCell\", for: indexPath) as! FileFieldTableViewCell","            return cell","        default:","            return UITableViewCell()","        }","    }","}",""],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"\/\/ TODO: add kyc scan section"}],"type":"paragraph"}],"kind":"content"}],"abstract":[{"text":"A class responsible for managing an individual step in the KYC process.","type":"text"}],"kind":"article","identifier":{"url":"doc:\/\/com.staq.TrustlessSDK\/documentation\/TrustlessSDK\/KYCStepsManagerArticle","interfaceLanguage":"swift"},"sections":[],"metadata":{"title":"KYC Steps Manager","modules":[{"name":"TrustlessSDK"}],"roleHeading":"Article","role":"article"},"hierarchy":{"paths":[["doc:\/\/com.staq.TrustlessSDK\/documentation\/TrustlessSDK"]]},"schemaVersion":{"minor":3,"major":0,"patch":0},"seeAlsoSections":[{"identifiers":["doc:\/\/com.staq.TrustlessSDK\/documentation\/TrustlessSDK\/IntegrationArticle","doc:\/\/com.staq.TrustlessSDK\/documentation\/TrustlessSDK\/RequestSendingArticle","doc:\/\/com.staq.TrustlessSDK\/documentation\/TrustlessSDK\/PaginatorArticle"],"title":"Articles","generated":true}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/trustlesssdk\/kycstepsmanagerarticle"]}],"references":{"doc://com.staq.TrustlessSDK/documentation/TrustlessSDK/RequestSendingArticle":{"role":"article","type":"topic","title":"Request Sending","identifier":"doc:\/\/com.staq.TrustlessSDK\/documentation\/TrustlessSDK\/RequestSendingArticle","abstract":[{"type":"text","text":"Sending requests to and receiving responses from Staq Server APIs: A detailed walkthrough."}],"url":"\/documentation\/trustlesssdk\/requestsendingarticle","kind":"article"},"doc://com.staq.TrustlessSDK/documentation/TrustlessSDK":{"role":"collection","kind":"symbol","abstract":[],"identifier":"doc:\/\/com.staq.TrustlessSDK\/documentation\/TrustlessSDK","type":"topic","title":"TrustlessSDK","url":"\/documentation\/trustlesssdk"},"doc://com.staq.TrustlessSDK/documentation/TrustlessSDK/IntegrationArticle":{"role":"article","type":"topic","title":"Integration","identifier":"doc:\/\/com.staq.TrustlessSDK\/documentation\/TrustlessSDK\/IntegrationArticle","url":"\/documentation\/trustlesssdk\/integrationarticle","abstract":[{"type":"text","text":"Integration of TrustlessSDK: Client Secrets and Client Certificate."}],"kind":"article"},"doc://com.staq.TrustlessSDK/documentation/TrustlessSDK/PaginatorArticle":{"url":"\/documentation\/trustlesssdk\/paginatorarticle","kind":"article","type":"topic","identifier":"doc:\/\/com.staq.TrustlessSDK\/documentation\/TrustlessSDK\/PaginatorArticle","title":"Paginator Usage","role":"article","abstract":[{"text":"Sending and handling paginated requests: Paginator helper.","type":"text"}]}}}